name: learn-github-actions
run-name: ${{ github.actor }} is learning GitHub Actions
on: [push]
jobs:
  tests:
    name: Tests
    runs-on: ubuntu-latest
    steps:
      - name: Setup and Build Docker
        uses: ./.github/actions/setup-and-build-docker.yml
        with:
          ref: ${{ github.ref }}
        
      # -
      #   name: Checkout
      #   uses: actions/checkout@v4
      # -
      #   name: Set up Docker Buildx
      #   uses: docker/setup-buildx-action@v3
      # -
      #   name: Build Docker images
      #   uses: docker/bake-action@v4
      #   with:
      #     pull: true
      #     load: true
      #     files: |
      #       compose.yaml
      #       compose.override.yaml
      #     set: |
      #       *.cache-from=type=gha,scope=${{github.ref}}
      #       *.cache-from=type=gha,scope=refs/heads/main
      #       *.cache-to=type=gha,scope=${{github.ref}},mode=max
      # -
      #   name: Start services
      #   run: docker compose up --wait --no-build
      # -
      #   name: Check HTTP reachability
      #   run: curl -v --fail-with-body http://localhost
